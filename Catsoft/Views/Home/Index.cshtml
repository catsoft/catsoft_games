@inject CatsoftContext DbCatsoftContext
@using App.cms.Helpers
@using App.cms.ViewModels.Common
@using App.Models
@using App.ViewModels.Book
@using App.ViewModels.PreOrder
@using Microsoft.Extensions.Options
@using Options = App.cms.Options.Options
@model App.ViewModels.Home.HomePageViewModel

@{
    Layout = "_Layout";
    var firstImage = Model.Page?.Images?.FirstOrDefault();

    var mapHtml = "<iframe src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1400.9547568430396!2d-7.420237106767184!3d37.19450966157094!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd10239f35bdc05f%3A0x91e6e5c9f447ab24!2sVIRTUALITY%2C%20UNIPESSOAL%20LDA!5e0!3m2!1sen!2spt!4v1714339139266!5m2!1sen!2spt\" style=\"border:0;\" allowfullscreen=\"\" loading=\"lazy\" referrerpolicy=\"no-referrer-when-downgrade\"></iframe>";
    var mapModel = new MapViewModel
    {
        Location = mapHtml
    };
}

<div style="background-image: url('/UploadImages/6a6d8a89-d4f9-4dd8-9873-3c376c65de49_compressed.webp');" class="fullWidthImage d-flex align-items-center">
    <div class="row col-6 offset-1 text-white">
        <span class="fs-1 fw-bolder">@await Html.RenderText("Virtuality", false)</span>
        <span class="fs-4 mb-5">@await Html.RenderText("Virtual Reality Arcade", false)</span>
        <p class="fs-1 mb-5 fw-normal">
            @await Html.RenderText("Lost in the game")
            <br/>
            <b>@await Html.RenderText("find yourself in experience")</b>
        </p>
        <div class="text-white">
            <div class="bg-dark d-inline-flex flex-column ps-3 pb-5 pe-3 pt-1 ms-2 ">
                <span class="fs-4">
                    @await Html.RenderText("Located in")
                    <br/>
                    <span class="fw-bold"> @await Html.RenderText("Vila Real De Santo Antonio", false)</span>
                </span>
                @await Html.PartialAsync("~/CMS/Views/Shared/Common/Map.cshtml", mapModel)
            </div>
        </div>
    </div>
</div>


@* @await Html.PartialAsync("About", Model.AboutPageViewModel) *@

@* @await Html.PartialAsync("ServicesPage", Model.ServicesPageViewModel) *@

@await Html.PartialAsync("GamesList", Model.GamesViewModel?.GameModels)

@if(Options.IsBookingEnabled)
{
    @* @await Html.PartialAsync("Booking", Model.BookingPageViewModel) *@
}
else
{
    @await Html.PartialAsync("BookBlock", new BookDto())

    @await Html.PartialAsync("PreOrder", new PreOrderDto())
}

@* @await Html.PartialAsync("Contacts", Model.ContactsPageViewModel) *@